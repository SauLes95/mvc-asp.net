@using Vjezba.Web.Mock
@model List<Vjezba.Web.Mock.Client>

<div class="alert alert-info mt-3" id="contactAlert">
    @ViewBag.Message
</div>


<div class="container">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" data-bs-toggle="tab" href="#form1">Pretraga po imenu</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#form2">Pretraga po imenu i adresi</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#form3">Pretraga po svim parametrima</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade show active" id="form1">
            <form action="/Client/Index" method="get">
                <label for="client"></label>
                <input type="text" id="clientText" name="query">
                <input type="submit" value="Submit">
            </form>
        </div>
        <div class="tab-pane fade" id="form2">
            <form action="/Client/Index" method="post">
                <label for="client"></label>
                <input type="text" id="clientText" name="queryName">
                <input type="text" id="clientText" name="queryAddress">
                <input type="submit" value="Submit">
            </form>
        </div>
        <div class="tab-pane fade" id="form3">
            <form action="/Client/AdvancedSearch" method="post">
                <label for="client"></label>
                <input type="text" placeholder="name" id="clientText" name="queryName">
                <input type="text" placeholder="address" id="clientText" name="queryAddress">
                <input type="text" placeholder="email" id="clientText" name="queryEmail">
                <input type="text" placeholder="city" id="clientText" name="queryCity">
                <input type="submit" value="Submit">
            </form>
        </div>
    </div>
</div>


<table class="table">
    <thead>
        <tr>
            <th scope="col">Client</th>
            <th scope="col">Address</th>
            <th scope="col">Email</th>
            <th scope="col">City</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var client in Model)
        {
            <tr>
                <td><a href="/Client/Details/@client.ID">@client.FullName</a></td>
                <td>@client.Address</td>
                <td>@client.Email</td>
                <td>
                    @if (client.City == null)
                    {
                        <text> </text>
                    }
                    else
                    {
                        @client.City.Name
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
